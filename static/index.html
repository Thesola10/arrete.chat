<html>
    <head>
        <title>ARRETE</title>
        <link rel="icon" href="favicon.ico"/>
        
        <!-- The main Elm script, controls this page's body -->
        <script src="elm.js"></script>
        <meta charset='utf-8'/>

        <!-- Google and other indexers -->
        <meta name="title" content="ARRETE.chat"/>
        <meta name="description" content="la vidéo du chat qui dit ARRETE &#x1F63F;"/>

        <!-- OpenGraph/Facebook -->
        <meta property="og:type" content="website"/>
        <meta property="og:url" content="https://arrete.chat/"/>
        <meta property="og:title" content="ARRETE.chat"/>
        <meta property="og:description" content="la vidéo du chat qui dit ARRETE &#x1F63F;"/>
        <meta property="og:image" content="https://arrete.chat/assets/banner.png"/>

        <!-- Twitter -->
        <meta property="twitter:card" content="summary_large_image"/>
        <meta property="twitter:url" content="https://arrete.chat/"/>
        <meta property="twitter:title" content="ARRETE.chat"/>
        <meta property="twitter:description" content="la vidéo du chat qui dit ARRETE &#x1F63F;"/>
        <meta property="twitter:image" content="https://arrete.chat/assets/banner.png"/>
    </head>
    <body>
        <script>
            /**** ELM APP ****/
            var app = Elm.Main.init({node: document.body});
            
            /**** PORTS ****/
            // [IN] Contents.Video.setPlaying
            app.ports.setPlaying.subscribe(function(playing) {
                var vframe = document.getElementById('video');
                if (playing) {
                    vframe.play();
                } else {
                    vframe.pause();
                }
            });

            // [OUT] Contents.Video.isPlaying
            document.getElementById('video').addEventListener("pause",
                function(event) {
                    app.ports.isPlaying.send(false);
                });
            document.getElementById('video').addEventListener("play",
                function(event) {
                    app.ports.isPlaying.send(true);
                });
        </script>
    </body>
</html>
